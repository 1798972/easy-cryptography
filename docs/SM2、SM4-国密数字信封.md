# 1.背景

数字信封（Digital Envelope）是一种数据结构，包含用随机对称密钥加密的信息密文和用公钥加密的该随机对称密钥的密钥密文。

其中综合运用了对称算法、非对称算法，通过对称加密保护数据内容，通过非对称加密保护用于加密数据的对称密钥。

其基本的运作过程如下：

- 发送
  - 生成会话密钥：发送方生成一个随机的对称加密密钥（会话密钥），会话密钥通常使用对称加密算法（如AES、SM4）生成。
  - 加密数据：发送方使用生成的会话密钥，对需要传输的原始数据（明文）进行加密，得到密文数据。
  - 加密会话密钥：发送方使用接收方的公钥（非对称加密算法，如RSA、SM2），对生成的会话密钥进行加密，得到加密的会话密钥。
  - 发送数字信封：发送方将密文数据和加密的会话密钥打包在一起，构成一个完整的数字信封，然后将数字信封发送给接收方。
- 接收
  - 解密会话密钥：接收方收到数字信封后，使用自己的私钥（非对称加密算法，如RSA、SM2）解密加密的会话密钥，得到原始的会话密钥。
  - 解密数据：接收方使用解密后的会话密钥（对称加密算法，如AES、SM4），对密文数据进行解密，得到原始的明文数据。

![image-20240720162349020](https://markdown-1258124344.cos.ap-guangzhou.myqcloud.com/images/202407201623116.png)



# 2.结构

